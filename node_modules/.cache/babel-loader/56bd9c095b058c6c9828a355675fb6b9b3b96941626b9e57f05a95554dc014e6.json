{"ast":null,"code":"import { REGISTER_USER_REQUEST, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS } from \"./action_types\";\nimport axios from 'axios'; // Import the useHistory hook from react-router-dom\nimport { useHistory } from 'react-router-dom';\nconst verifyOtpAction = (userEmail, otpValue) => {\n  var _s = $RefreshSig$();\n  return _s(async dispatch => {\n    _s();\n    const history = useHistory(); // Get the history object\n\n    try {\n      dispatch({\n        type: VERIFY_OTP_REQUEST\n      });\n      const config = {\n        headers: {\n          'Content-type': 'application/json'\n        }\n      };\n      const response = await axios.post(\"http://localhost:1213/user/verify-otp\", {\n        email: userEmail,\n        otp: otpValue\n      }, config);\n      dispatch({\n        type: VERIFY_OTP_SUCCESS,\n        payload: response\n      });\n\n      // Navigate to the \"/user-register\" route upon successful OTP verification\n      history.push(\"/user-register\");\n    } catch (error) {\n      console.log(\"Error response from server:\", error);\n      let errorMessage = \"An error occurred\"; // Default error message\n\n      if (error.response && error.response.data.error) {\n        errorMessage = error.response.data.error; // Use the error message from the server if available\n      }\n\n      dispatch({\n        type: VERIFY_OTP_FAILURE,\n        payload: errorMessage\n      });\n    }\n  }, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n    return [useHistory];\n  });\n};\nexport default verifyOtpAction;","map":{"version":3,"names":["REGISTER_USER_REQUEST","REGISTER_USER_FAILURE","REGISTER_USER_SUCCESS","axios","useHistory","verifyOtpAction","userEmail","otpValue","_s","$RefreshSig$","dispatch","history","type","VERIFY_OTP_REQUEST","config","headers","response","post","email","otp","VERIFY_OTP_SUCCESS","payload","push","error","console","log","errorMessage","data","VERIFY_OTP_FAILURE"],"sources":["/Users/apple/Documents/Ecommerce/client/src/actions/selller_register_actions.js"],"sourcesContent":["import { REGISTER_USER_REQUEST, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS } from \"./action_types\";\nimport axios from 'axios';// Import the useHistory hook from react-router-dom\nimport { useHistory } from 'react-router-dom';\n\nconst verifyOtpAction = (userEmail, otpValue) => async (dispatch) => {\n  const history = useHistory(); // Get the history object\n\n  try {\n    dispatch({ type: VERIFY_OTP_REQUEST });\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n      },\n    };\n\n    const response = await axios.post(\"http://localhost:1213/user/verify-otp\", {\n      email: userEmail,\n      otp: otpValue,\n    }, config);\n    \n    dispatch({ type: VERIFY_OTP_SUCCESS, payload: response });\n    \n    // Navigate to the \"/user-register\" route upon successful OTP verification\n    history.push(\"/user-register\");\n\n  } catch (error) {\n    console.log(\"Error response from server:\", error);\n    let errorMessage = \"An error occurred\"; // Default error message\n\n    if (error.response && error.response.data.error) {\n      errorMessage = error.response.data.error; // Use the error message from the server if available\n    }\n\n    dispatch({ type: VERIFY_OTP_FAILURE, payload: errorMessage });\n  }\n};\n\nexport default verifyOtpAction;\n\n"],"mappings":"AAAA,SAASA,qBAAqB,EAAEC,qBAAqB,EAAEC,qBAAqB,QAAQ,gBAAgB;AACpG,OAAOC,KAAK,MAAM,OAAO,CAAC;AAC1B,SAASC,UAAU,QAAQ,kBAAkB;AAE7C,MAAMC,eAAe,GAAGA,CAACC,SAAS,EAAEC,QAAQ;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAAA,OAAAD,EAAA,CAAK,MAAOE,QAAQ,IAAK;IAAAF,EAAA;IACnE,MAAMG,OAAO,GAAGP,UAAU,CAAC,CAAC,CAAC,CAAC;;IAE9B,IAAI;MACFM,QAAQ,CAAC;QAAEE,IAAI,EAAEC;MAAmB,CAAC,CAAC;MACtC,MAAMC,MAAM,GAAG;QACbC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC;MAED,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,IAAI,CAAC,uCAAuC,EAAE;QACzEC,KAAK,EAAEZ,SAAS;QAChBa,GAAG,EAAEZ;MACP,CAAC,EAAEO,MAAM,CAAC;MAEVJ,QAAQ,CAAC;QAAEE,IAAI,EAAEQ,kBAAkB;QAAEC,OAAO,EAAEL;MAAS,CAAC,CAAC;;MAEzD;MACAL,OAAO,CAACW,IAAI,CAAC,gBAAgB,CAAC;IAEhC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,KAAK,CAAC;MACjD,IAAIG,YAAY,GAAG,mBAAmB,CAAC,CAAC;;MAExC,IAAIH,KAAK,CAACP,QAAQ,IAAIO,KAAK,CAACP,QAAQ,CAACW,IAAI,CAACJ,KAAK,EAAE;QAC/CG,YAAY,GAAGH,KAAK,CAACP,QAAQ,CAACW,IAAI,CAACJ,KAAK,CAAC,CAAC;MAC5C;;MAEAb,QAAQ,CAAC;QAAEE,IAAI,EAAEgB,kBAAkB;QAAEP,OAAO,EAAEK;MAAa,CAAC,CAAC;IAC/D;EACF,CAAC;IAAA,QA9BiBtB,UAAU;EAAA;AAAA,CA8B3B;AAED,eAAeC,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}
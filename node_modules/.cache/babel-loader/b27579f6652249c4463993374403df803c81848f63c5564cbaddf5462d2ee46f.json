{"ast":null,"code":"// actions.js\n\nimport axios from 'axios';\nimport { LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGIN_USER_FAILURE } from './action_types';\nexport const loginRequest = () => ({\n  type: LOGIN_USER_REQUEST\n});\nexport const loginSuccess = token => ({\n  type: LOGIN_USER_SUCCESS,\n  payload: token\n});\nexport const loginFailure = error => ({\n  type: LOGIN_USER_FAILURE,\n  payload: error\n});\nexport const loginUser = (email, password) => async dispatch => {\n  dispatch(loginRequest());\n  try {\n    const loginData = {\n      email,\n      password\n    };\n    const response = await axios.post(\"http://localhost:1213/user/login-user\", loginData);\n    if (response.status === 200) {\n      const token = response.data.token;\n      localStorage.setItem(\"userToken\", token);\n      dispatch(loginSuccess(token));\n      // You can dispatch further actions or navigate to another page here.\n    } else {\n      dispatch(loginFailure(response.data.error));\n    }\n  } catch (error) {\n    if (error.response) {\n      const errorMessage = error.response.data.error;\n      dispatch(loginFailure(errorMessage));\n    } else if (error.request) {\n      dispatch(loginFailure(\"No response received from the server.\"));\n    } else {\n      dispatch(loginFailure(error.message));\n    }\n  }\n};","map":{"version":3,"names":["axios","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILURE","loginRequest","type","loginSuccess","token","payload","loginFailure","error","loginUser","email","password","dispatch","loginData","response","post","status","data","localStorage","setItem","errorMessage","request","message"],"sources":["/Users/apple/Documents/Ecommerce/client/src/actions/user_login_actions.js"],"sourcesContent":["// actions.js\n\nimport axios from 'axios';\nimport {\n    LOGIN_USER_REQUEST,\n    LOGIN_USER_SUCCESS,\n    LOGIN_USER_FAILURE,\n  } from './action_types';\n\nexport const loginRequest = () => ({\n  type: LOGIN_USER_REQUEST,\n});\n\nexport const loginSuccess = (token) => ({\n  type: LOGIN_USER_SUCCESS,\n  payload: token,\n});\n\nexport const loginFailure = (error) => ({\n  type: LOGIN_USER_FAILURE,\n  payload: error,\n});\n\nexport const loginUser = (email, password) => async (dispatch) => {\n  dispatch(loginRequest());\n\n  try {\n    const loginData = {\n      email,\n      password,\n    };\n\n    const response = await axios.post(\n      \"http://localhost:1213/user/login-user\",\n      loginData\n    );\n\n    if (response.status === 200) {\n      const token = response.data.token;\n      localStorage.setItem(\"userToken\", token);\n      dispatch(loginSuccess(token));\n      // You can dispatch further actions or navigate to another page here.\n    } else {\n      dispatch(loginFailure(response.data.error));\n    }\n  } catch (error) {\n    if (error.response) {\n      const errorMessage = error.response.data.error;\n      dispatch(loginFailure(errorMessage));\n    } else if (error.request) {\n      dispatch(loginFailure(\"No response received from the server.\"));\n    } else {\n      dispatch(loginFailure(error.message));\n    }\n  }\n};\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACIC,kBAAkB,EAClBC,kBAAkB,EAClBC,kBAAkB,QACb,gBAAgB;AAEzB,OAAO,MAAMC,YAAY,GAAGA,CAAA,MAAO;EACjCC,IAAI,EAAEJ;AACR,CAAC,CAAC;AAEF,OAAO,MAAMK,YAAY,GAAIC,KAAK,KAAM;EACtCF,IAAI,EAAEH,kBAAkB;EACxBM,OAAO,EAAED;AACX,CAAC,CAAC;AAEF,OAAO,MAAME,YAAY,GAAIC,KAAK,KAAM;EACtCL,IAAI,EAAEF,kBAAkB;EACxBK,OAAO,EAAEE;AACX,CAAC,CAAC;AAEF,OAAO,MAAMC,SAAS,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK,MAAOC,QAAQ,IAAK;EAChEA,QAAQ,CAACV,YAAY,CAAC,CAAC,CAAC;EAExB,IAAI;IACF,MAAMW,SAAS,GAAG;MAChBH,KAAK;MACLC;IACF,CAAC;IAED,MAAMG,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAC/B,uCAAuC,EACvCF,SACF,CAAC;IAED,IAAIC,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;MAC3B,MAAMX,KAAK,GAAGS,QAAQ,CAACG,IAAI,CAACZ,KAAK;MACjCa,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEd,KAAK,CAAC;MACxCO,QAAQ,CAACR,YAAY,CAACC,KAAK,CAAC,CAAC;MAC7B;IACF,CAAC,MAAM;MACLO,QAAQ,CAACL,YAAY,CAACO,QAAQ,CAACG,IAAI,CAACT,KAAK,CAAC,CAAC;IAC7C;EACF,CAAC,CAAC,OAAOA,KAAK,EAAE;IACd,IAAIA,KAAK,CAACM,QAAQ,EAAE;MAClB,MAAMM,YAAY,GAAGZ,KAAK,CAACM,QAAQ,CAACG,IAAI,CAACT,KAAK;MAC9CI,QAAQ,CAACL,YAAY,CAACa,YAAY,CAAC,CAAC;IACtC,CAAC,MAAM,IAAIZ,KAAK,CAACa,OAAO,EAAE;MACxBT,QAAQ,CAACL,YAAY,CAAC,uCAAuC,CAAC,CAAC;IACjE,CAAC,MAAM;MACLK,QAAQ,CAACL,YAAY,CAACC,KAAK,CAACc,OAAO,CAAC,CAAC;IACvC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}